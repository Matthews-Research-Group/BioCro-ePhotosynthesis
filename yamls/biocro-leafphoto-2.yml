model:
    name: server # LeafPhoto model
    language: matlab
    args: ../models/C3-metabolic-and-leaf-model/Leaf_biocro.m
    function: Leaf_biocro
    is_server: true
    inputs:
        - name: Einput
          default_file:
            name: ../models/C3-metabolic-and-leaf-model/GrCM_output.txt
            transform:
                transformtype: select_fields
                selected: Glyma_ID,Ele:Amb
            filetype: pandas
        - name: Eio
          default_file:
            name: ../models/C3-metabolic-and-leaf-model/Einput7.txt
            filetype: pandas
            no_header: true

model:
    name: client #BioCro
    language: R
    args: ../Gro_wrapper.R
    function: Gro_wrapper
    client_of: server
    inputs:
        - name: initial_state
          recv_converter: pandas
          default_file:
            name: ../soybean_initial_state.txt
            filetype: pandas
        - name: parameters
          recv_converter: pandas
          default_file:
            name: ../soybean_parameters.txt
            filetype: pandas
        - name: varying_parameters
          recv_converter: pandas
          default_file:
            name: ../soybean_weather_2002growingseason.txt
            filetype: pandas
        - name: steady_state_module_names
          recv_converter: table
          default_file:
            name: ../soybean_ss_modules.txt
            filetype: pandas
            no_header: true
        - name: derivative_module_names
          recv_converter: table
          default_file:
            name: ../soybean_deriv_modules.txt
            filetype: pandas
            no_header: true
    outputs:
        - name: result
          send_converter: pandas
          default_file:
            name: result.txt
            filetype: pandas
